"use strict";(self.webpackChunkblog_notes_aleo=self.webpackChunkblog_notes_aleo||[]).push([[549],{3905:function(e,t,n){n.d(t,{Zo:function(){return o},kt:function(){return c}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),p=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},o=function(e){var t=p(e.components);return a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,o=s(e,["components","mdxType","originalType","parentName"]),m=p(n),c=r,k=m["".concat(u,".").concat(c)]||m[c]||d[c]||l;return n?a.createElement(k,i(i({ref:t},o),{},{components:n})):a.createElement(k,i({ref:t},o))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4069:function(e,t,n){n.r(t),n.d(t,{assets:function(){return o},contentTitle:function(){return u},default:function(){return c},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return d}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],s={},u="Bash",p={unversionedId:"system_network/bash",id:"system_network/bash",title:"Bash",description:"Lien vers un cheatsheet//devhints.io/bash",source:"@site/docs/system_network/bash.md",sourceDirName:"system_network",slug:"/system_network/bash",permalink:"/system_network/bash",draft:!1,tags:[],version:"current",lastUpdatedBy:"Aleowyne",lastUpdatedAt:1680203868,formattedLastUpdatedAt:"30 mars 2023",frontMatter:{},sidebar:"docs",previous:{title:"Docusaurus 2",permalink:"/ssg/docusaurus"}},o={},d=[{value:"1. Navigation",id:"1-navigation",level:2},{value:"2. Aide",id:"2-aide",level:2},{value:"3. R\xe9pertoires et fichiers",id:"3-r\xe9pertoires-et-fichiers",level:2},{value:"4. Utilisateurs et droits",id:"4-utilisateurs-et-droits",level:2},{value:"5. Manipuler des fichiers textes",id:"5-manipuler-des-fichiers-textes",level:2},{value:"6. Recherche de fichiers avec les motifs",id:"6-recherche-de-fichiers-avec-les-motifs",level:2},{value:"7. Constructions syntaxiques",id:"7-constructions-syntaxiques",level:2},{value:"7.1 Variables",id:"71-variables",level:3},{value:"7.2 Substitution de commandes",id:"72-substitution-de-commandes",level:3},{value:"7.3 Inhibitions",id:"73-inhibitions",level:3},{value:"8. Gestion des processus",id:"8-gestion-des-processus",level:2},{value:"9. Entr\xe9es et sorties",id:"9-entr\xe9es-et-sorties",level:2},{value:"9.1 Sortie standard",id:"91-sortie-standard",level:3},{value:"9.2 Sortie des erreurs",id:"92-sortie-des-erreurs",level:3},{value:"9.3 Entr\xe9e standard",id:"93-entr\xe9e-standard",level:3},{value:"9.4 Redirection entre commandes",id:"94-redirection-entre-commandes",level:3},{value:"10. Filtres",id:"10-filtres",level:2},{value:"11. Expressions arithm\xe9tiques",id:"11-expressions-arithm\xe9tiques",level:2},{value:"12. Archives",id:"12-archives",level:2},{value:"13. Scripts shell",id:"13-scripts-shell",level:2},{value:"13.1 Introduction",id:"131-introduction",level:3},{value:"13.2 Arguments",id:"132-arguments",level:3},{value:"13.3 Test d\u2019une expression",id:"133-test-dune-expression",level:3},{value:"13.4 Structures conditionnelles",id:"134-structures-conditionnelles",level:3},{value:"13.5 Structures it\xe9ratives",id:"135-structures-it\xe9ratives",level:3},{value:"13.6 Fonctions",id:"136-fonctions",level:3}],m={toc:d};function c(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"bash"},"Bash"),(0,l.kt)("p",null,"Lien vers un cheatsheet : ",(0,l.kt)("a",{parentName:"p",href:"https://devhints.io/bash"},"https://devhints.io/bash")),(0,l.kt)("h2",{id:"1-navigation"},"1. Navigation"),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"pwd")," permet d\u2019afficher le chemin absolu du r\xe9pertoire courant."),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"cd")," permet de se d\xe9placer dans le syst\xe8me de fichiers en indiquant, en argument, le chemin du r\xe9pertoire qui remplacera le r\xe9pertoire courant."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"2-aide"},"2. Aide"),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"man")," permet d\u2019afficher la documentation d\u2019une commande."),(0,l.kt)("p",null,"Il est possible de changer la langue de la documentation avec l\u2019option suivante :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"man -L fr <command>\n")),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"help")," permet de faire la m\xeame chose avec les commandes internes."),(0,l.kt)("p",null,"L\u2019option ",(0,l.kt)("inlineCode",{parentName:"p"},"--help")," permet d\u2019acc\xe9der \xe0 l\u2019aide interne des commandes."),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"apropos")," permet de lister les pages des manuels li\xe9es aux commandes dont le nom ou la description contient les mots pass\xe9s en arguments."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"3-r\xe9pertoires-et-fichiers"},"3. R\xe9pertoires et fichiers"),(0,l.kt)("p",null,"Tous les chemins relatifs commencent par ",(0,l.kt)("inlineCode",{parentName:"p"},"/"),", sinon ce sont des chemins absolus."),(0,l.kt)("p",null,"Les symboles sp\xe9ciaux utilis\xe9s dans les chemins d\u2019acc\xe8s sont :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Symbole"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"..")),(0,l.kt)("td",{parentName:"tr",align:null},"Acc\xe8s au r\xe9pertoire parent")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"/")),(0,l.kt)("td",{parentName:"tr",align:null},"Permet de s\xe9parer les r\xe9pertoires et fichiers")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},".")),(0,l.kt)("td",{parentName:"tr",align:null},"Acc\xe8s au r\xe9pertoire courant")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"~")),(0,l.kt)("td",{parentName:"tr",align:null},"Acc\xe8s au r\xe9pertoire personnel de l\u2019utilisateur")))),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"ls")," permet de lister les r\xe9pertoires et fichiers pr\xe9sents dans le r\xe9pertoire courant."),(0,l.kt)("p",null,"Le plus souvent, la commande est associ\xe9e avec l\u2019option ",(0,l.kt)("inlineCode",{parentName:"p"},"-l")," qui permet d\u2019afficher des informations d\xe9taill\xe9es sur le r\xe9pertoire ou le fichier : "),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"un premier caract\xe8re permettant d\u2019indiquer si l\u2019\xe9l\xe9ment est un r\xe9pertoire (",(0,l.kt)("inlineCode",{parentName:"li"},"d"),") ou un fichier (",(0,l.kt)("inlineCode",{parentName:"li"},"-"),")"),(0,l.kt)("li",{parentName:"ul"},"les droits d\u2019acc\xe8s (voir \xa7 sur les utilisateurs et les droits)"),(0,l.kt)("li",{parentName:"ul"},"le nom du propri\xe9taire"),(0,l.kt)("li",{parentName:"ul"},"le nom/id du groupe propri\xe9taire"),(0,l.kt)("li",{parentName:"ul"},"la taille en octets"),(0,l.kt)("li",{parentName:"ul"},"le jour de la derni\xe8re modification"),(0,l.kt)("li",{parentName:"ul"},"la date de derni\xe8re modification"),(0,l.kt)("li",{parentName:"ul"},"le nom du fichier ou du r\xe9pertoire")),(0,l.kt)("p",null,"Exemple :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> ls -l\ntotal 1\n-rw-r--r-- 1 aleowyne dev 191 Feb 28 23:09 index.md\ndrwxr-xr-x 1 aleowyne dev 0 Feb 10 22:43 node/\ndrwxr-xr-x 1 aleowyne dev 0 Mar  3 19:57 ssg/\ndrwxr-xr-x 1 aleowyne dev 0 Feb 28 23:04 tool/\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"mkdir")," permet de cr\xe9er des r\xe9pertoires et la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"touch")," permet de cr\xe9er des fichiers."),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"rm")," permet de supprimer des fichiers. Pour les r\xe9pertoires, ils peuvent \xeatre supprim\xe9s de plusieurs fa\xe7ons :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Supprime un r\xe9pertoire vide\nrmdir <directory>\n# Ou\nrm -d <directory>\n\n# Supprime un r\xe9pertoire et son contenu\nrm -r <directory>\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u2757 La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"rm -rf")," permet de confirmer directement la suppression du r\xe9pertoire et de son contenu.")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"mv")," permet de :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"d\xe9placer un fichier dans un r\xe9pertoire cible"),(0,l.kt)("li",{parentName:"ul"},"d\xe9placer un r\xe9pertoire dans un autre r\xe9pertoire cible"),(0,l.kt)("li",{parentName:"ul"},"renommer un fichier"),(0,l.kt)("li",{parentName:"ul"},"renommer un r\xe9pertoire si le r\xe9pertoire cible n\u2019existe pas")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Format : mv <source> <destination>\n# Renomme le fichier file1.txt en file2.txt\nmv file1.txt file2.txt \n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u2757 Si le nouveau fichier existe d\xe9j\xe0, il est \xe9cras\xe9.")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"cp")," permet de copier un fichier ou un r\xe9pertoire (avec l\u2019option ",(0,l.kt)("inlineCode",{parentName:"p"},"-R"),") :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Format : cp <source> <destination>\n# Copie le fichier file1.txt pour cr\xe9er le fichier file2.txt\ncp file1.txt file2.txt\n")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"4-utilisateurs-et-droits"},"4. Utilisateurs et droits"),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"id")," permet de conna\xeetre son identifiant utilisateur et les groupes dont on fait partie."),(0,l.kt)("p",null,"Exemple :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> id\nuid=197609(aleowyne) gid=197609(dev) groups=197609(dev)\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Les fichiers \xe0 conna\xeetre :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/etc/passwd")," : La liste des informations de connexion des utilisateurs"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/etc/shadow")," : La liste des mots de passe crypt\xe9s des utilisateurs (peut ne pas exister)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/etc/group")," : La liste des groupes d\u2019utilisateurs")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Les droits d\u2019acc\xe8s des fichiers et r\xe9pertoires sont visibles avec la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"ls -l"),". "),(0,l.kt)("p",null,"Exemple : ",(0,l.kt)("inlineCode",{parentName:"p"},"rwxr-xr--")),(0,l.kt)("p",null,"Ils sont d\xe9coup\xe9s en 3 parties de 3 caract\xe8res :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"La premi\xe8re partie concerne les droits pour le propri\xe9taire du fichier/r\xe9pertoire"),(0,l.kt)("li",{parentName:"ul"},"La seconde partie concerne les droits pour les membres du groupe propri\xe9taire du fichier/r\xe9pertoire"),(0,l.kt)("li",{parentName:"ul"},"La troisi\xe8me partie concerne les droits pour les autres utilisateurs du syst\xe8me")),(0,l.kt)("p",null,"Chaque partie est compos\xe9 comme suit :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Le premier caract\xe8re concerne les droits de lecture ",(0,l.kt)("inlineCode",{parentName:"li"},"r"),".",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Pour un fichier, il permet de le lire et de le copier."),(0,l.kt)("li",{parentName:"ul"},"Pour un r\xe9pertoire, il permet de lister son contenu."))),(0,l.kt)("li",{parentName:"ul"},"Le second caract\xe8re concerne les droits d\u2019\xe9criture ",(0,l.kt)("inlineCode",{parentName:"li"},"w"),".",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Pour un fichier, il permet de modifier le contenu."),(0,l.kt)("li",{parentName:"ul"},"Pour un r\xe9pertoire, il permet d\u2019ajouter, de renommer et de supprimer les fichiers pr\xe9sents \xe0 l\u2019int\xe9rieur."))),(0,l.kt)("li",{parentName:"ul"},"Le troisi\xe8me caract\xe8re concerne les droits d\u2019ex\xe9cution ",(0,l.kt)("inlineCode",{parentName:"li"},"x"),".",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Pour un fichier, il permet de l\u2019ex\xe9cuter, s\u2019il est ex\xe9cutable."),(0,l.kt)("li",{parentName:"ul"},"Pour un r\xe9pertoire, il permet de se positionner \xe0 l\u2019int\xe9rieur (avec ",(0,l.kt)("inlineCode",{parentName:"li"},"cd"),")")))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\udca1 Si un droit n\u2019est pas actif, le caract\xe8re est remplac\xe9 par ",(0,l.kt)("inlineCode",{parentName:"p"},"-"),".")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"chmod")," permet de modifier les droits d\u2019acc\xe8s d\u2019un fichier ou d\u2019un r\xe9pertoire. L\u2019option ",(0,l.kt)("inlineCode",{parentName:"p"},"-R")," permet d\u2019appliquer les droits aux fichiers/r\xe9pertoires \xe0 l\u2019int\xe9rieur d\u2019un r\xe9pertoire."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Premi\xe8re notation ",(0,l.kt)("inlineCode",{parentName:"li"},"chmod <public><operation><auth> <file_or_repository>")," avec :",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"public")," qui peut prendre les valeurs suivantes :",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"u")," : propri\xe9taire"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"g")," : groupe du propri\xe9taire"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"o")," : autres utilisateurs"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"a")," : toutes les valeurs (=",(0,l.kt)("inlineCode",{parentName:"li"},"ugo"),")"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"operation")," qui peut prendre l\u2019une des valeurs suivantes :",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"+")," : ajout d\u2019un droit"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-")," : suppression d\u2019un droit"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"=")," : affectation d\u2019un droit"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"auth")," qui peut prendre les valeurs suivantes :",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"r")," : droit en lecture"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"w")," : droit en \xe9criture"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"x")," : droit en ex\xe9cution")))))),(0,l.kt)("p",null,"Exemple : "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Droits en \xe9criture pour le groupe et les autres utilisateurs sur le fichier file.txt\nchmod go+w file.txt \n")),(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Seconde notation (sert \xe0 affecter directement des droits) ",(0,l.kt)("inlineCode",{parentName:"p"},"chmod <octal_owner><octal_group><octal_other> <file_or_repository>"),"."),(0,l.kt)("p",{parentName:"li"},"  Les valeurs octales sont repr\xe9sent\xe9es comme suit :"))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Valeur octale"),(0,l.kt)("th",{parentName:"tr",align:null},"Droits"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"---"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--x"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-w-"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-wx"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"r--"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"r-x"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"6"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"rw-"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"7"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"rwx"))))),(0,l.kt)("p",null,"Exemple : "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Tous les droits pour le propri\xe9taire, les droits en lecture et \xe9criture pour le groupe et \n# les autres utilisateurs sur le fichier file.txt (\xe9quivalent \xe0 rwxrw-rw-)\nchmod 766 file.txt\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"chown")," permet de changer le propri\xe9taire d\u2019un fichier. Le super-utilisateur est souvent le seul \xe0 pouvoir utiliser cette commande. L\u2019option ",(0,l.kt)("inlineCode",{parentName:"p"},"-R")," permet de modifier \xe9galement le propri\xe9taire des fichiers/r\xe9pertoires \xe0 l\u2019int\xe9rieur d\u2019un r\xe9pertoire."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chown <user> <file_or_repository>\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"chgrp")," permet de changer le groupe d\u2019utilisateurs d\u2019un fichier. Le super-utilisateur et le propri\xe9taire sont les seuls \xe0 pouvoir utiliser cette commande. L\u2019option ",(0,l.kt)("inlineCode",{parentName:"p"},"-R")," permet de modifier \xe9galement le groupe d\u2019utilisateurs des fichiers/r\xe9pertoires \xe0 l\u2019int\xe9rieur d\u2019un r\xe9pertoire."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chgrp <group> <file_or_repository>\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"sudo")," permet de prendre temporairement la place du super-utilisateur pour ex\xe9cuter une commande, comme \xe9crire dans un fichier pr\xe9sent dans le dossier ",(0,l.kt)("inlineCode",{parentName:"p"},"etc"),". "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo <command>\n")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"5-manipuler-des-fichiers-textes"},"5. Manipuler des fichiers textes"),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"cat")," permet d\u2019afficher le contenu d\u2019un ou plusieurs fichiers dans le terminal."),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"head")," permet d\u2019afficher les 10 premi\xe8res lignes d\u2019un fichier."),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"tail")," permet d\u2019afficher les 10 derni\xe8res lignes d\u2019un fichier."),(0,l.kt)("p",null,"Pour ces 2 commandes, des options sont disponibles :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-n")," : Nombre de lignes affich\xe9es"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-c")," : Nombre de caract\xe8res affich\xe9s"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-f")," (pour ",(0,l.kt)("inlineCode",{parentName:"li"},"tail"),") : Attend de nouvelles modifications \xe0 la fin du fichier pour les afficher")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"more")," permet d\u2019afficher le contenu d\u2019un fichier page par page avec un d\xe9filement du haut vers le bas."),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"less")," permet d\u2019afficher le contenu d\u2019un fichier avec un d\xe9filement dans les deux sens haut \u2194 bas. Elle permet \xe9galement d\u2019effectuer des recherches dans le fichier et d\u2019afficher les lignes concern\xe9es gr\xe2ce aux commandes internes :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"X/pattern")," : Recherche la X\xe8me occurrence du motif de la position courante vers la fin du fichier. Si le nombre X n'est pas renseign\xe9, alors une seule occurrence sera recherch\xe9e."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"X?pattern")," : Recherche la X\xe8me occurrence du motif de la position courante vers le d\xe9but du fichier. Si le nombre X n'est pas renseign\xe9, alors une seule occurrence sera recherch\xe9e."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"&pattern")," : S\xe9lectionne les lignes qui contiennent le motif.")),(0,l.kt)("br",null),(0,l.kt)("p",null,"L\u2019\xe9dition d\u2019un fichier de texte peut \xeatre effectu\xe9e via les commandes ",(0,l.kt)("inlineCode",{parentName:"p"},"vi"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"vim"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"nano"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"emacs")," \u2026"),(0,l.kt)("p",null,"Et \xe9galement avec la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"sed")," qui permet d\u2019\xe9diter le contenu d\u2019un fichier de fa\xe7on automatis\xe9e."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"6-recherche-de-fichiers-avec-les-motifs"},"6. Recherche de fichiers avec les motifs"),(0,l.kt)("p",null,"Des caract\xe8res sp\xe9ciaux peuvent \xeatre utilis\xe9s pour d\xe9signer des fichiers :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Caract\xe8re"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"*")),(0,l.kt)("td",{parentName:"tr",align:null},"Une cha\xeene de caract\xe8res vide ou quelconque")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"?")),(0,l.kt)("td",{parentName:"tr",align:null},"Un caract\xe8re quelconque")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"[alp]")),(0,l.kt)("td",{parentName:"tr",align:null},"Un caract\xe8re parmi l\u2019ensemble")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"[a-z]")),(0,l.kt)("td",{parentName:"tr",align:null},"Un caract\xe8re dans l\u2019intervalle")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"[!alp]")," ou ",(0,l.kt)("inlineCode",{parentName:"td"},"[!a-z]")),(0,l.kt)("td",{parentName:"tr",align:null},"Aucun caract\xe8re de l\u2019ensemble ou de l\u2019intervalle")))),(0,l.kt)("br",null),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\udca1 Le caract\xe8re ",(0,l.kt)("inlineCode",{parentName:"p"},".")," ne peut pas \xeatre trouv\xe9 avec les caract\xe8res sp\xe9ciaux ",(0,l.kt)("inlineCode",{parentName:"p"},"*")," et ",(0,l.kt)("inlineCode",{parentName:"p"},"?"),", il doit donc \xeatre indiqu\xe9 clairement dans le motif.")),(0,l.kt)("br",null),(0,l.kt)("p",null,'Un exemple permettant d\u2019afficher les fichiers dont le nom commence par un caract\xe8re entre "a" et "z" suivi par 0 ou plusieurs caract\xe8res et se termine par un chiffre suivi de l\u2019extension ".txt" :'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"echo [a-z]*[0-9].txt\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Pour des motifs plus complexes, l\u2019option ",(0,l.kt)("inlineCode",{parentName:"p"},"extglob")," peut \xeatre utilis\xe9e."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Pour l'activer\nshopt -s extglob\n\n# Pour le d\xe9sactiver\nshopt -u extglob\n")),(0,l.kt)("p",null,"Les caract\xe8res sp\xe9ciaux utilis\xe9s avec ",(0,l.kt)("inlineCode",{parentName:"p"},"extglob")," activ\xe9e sont les suivants :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Caract\xe8re"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"?(pattern_list)")),(0,l.kt)("td",{parentName:"tr",align:null},"0 ou 1 fois un des motifs de la liste")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"*(pattern_list)")),(0,l.kt)("td",{parentName:"tr",align:null},"0 ou X fois un des motifs de la liste")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"+(pattern_list)")),(0,l.kt)("td",{parentName:"tr",align:null},"1 ou X fois un des motifs de la liste")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"@(pattern_list)")),(0,l.kt)("td",{parentName:"tr",align:null},"Un seul motif de la liste")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"!(pattern_list)")),(0,l.kt)("td",{parentName:"tr",align:null},"Aucun motif de la liste")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,"pattern1 ","|"," pattern2")),(0,l.kt)("td",{parentName:"tr",align:null},"L\u2019un des deux motifs")))),(0,l.kt)("br",null),(0,l.kt)("p",null,'Un exemple permettant de lister les fichiers commen\xe7ant par "ab" ou "def", suivi par 0 ou plusieurs caract\xe8res et se terminant par ".jpg" ou ".gif" :'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"ls +(ab|def)*+(.jpg|.gif)\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"find")," permet de rechercher des fichiers/r\xe9pertoires en fonction de plusieurs options :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-name <file>")," : permet de rechercher en fonction du nom du fichier (motifs autoris\xe9s)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-iname <file>")," : permet de rechercher en fonction du nom du fichier (motifs autoris\xe9s) sans \xeatre sensible \xe0 la casse"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-user <username>")," : permet de rechercher en fonction de l\u2019utilisateur du fichier"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-size <size>")," : permet de rechercher en fonction de la taille du fichier"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-mtime <time>")," : permet de rechercher en fonction d\u2019une dur\xe9e en jours depuis la derni\xe8re modification du fichier"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-exec <cmd>")," : permet d\u2019ex\xe9cuter une commande sur les fichiers trouv\xe9s"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-type <type>")," : permet de rechercher des r\xe9pertoires (",(0,l.kt)("inlineCode",{parentName:"li"},"d"),"), des fichiers (",(0,l.kt)("inlineCode",{parentName:"li"},"f"),") ou des liens symboliques (",(0,l.kt)("inlineCode",{parentName:"li"},"l"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"!")," : n\xe9gation de l\u2019option qui suit"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-o")," : unions d\u2019options (ou)")),(0,l.kt)("p",null,'Un exemple permettant de trouver les fichiers se terminant par ".tmp" et modifi\xe9s depuis moins de 15 jours, dans le r\xe9pertoire courant :'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'find . -iname "*.tmp" -mtime -15\n')),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"grep")," permet de rechercher dans le contenu des fichiers et affiche les lignes trouv\xe9es. Les options les plus courantes sont :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-n")," : pour afficher le num\xe9ro de ligne"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-v")," : pour r\xe9cup\xe9rer toutes les lignes ne correspondant pas \xe0 la recherche"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-c")," : pour donner le nombre de lignes trouv\xe9es"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-i")," : insensible \xe0 la casse"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-w")," : pour limiter la recherche \xe0 un mot")),(0,l.kt)("p",null,'Un exemple permettant de trouver toutes les lignes dans les fichiers "file1.txt" et "file2.txt" commen\xe7ant par "Le" :'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'grep "^Le" file1.txt file2.txt\n')),(0,l.kt)("br",null),(0,l.kt)("p",null,"Des expression r\xe9guli\xe8res peuvent \xeatre utilis\xe9es avec ",(0,l.kt)("inlineCode",{parentName:"p"},"grep"),", \xe0 l\u2019aide des caract\xe8res suivants :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Caract\xe8re"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},".")),(0,l.kt)("td",{parentName:"tr",align:null},"Un caract\xe8re quelconque (sauf retour \xe0 la ligne)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"*")),(0,l.kt)("td",{parentName:"tr",align:null},"0 ou plusieurs fois ce qui pr\xe9c\xe8de")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"+")),(0,l.kt)("td",{parentName:"tr",align:null},"Au moins une fois ce qui pr\xe9c\xe8de")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"?")),(0,l.kt)("td",{parentName:"tr",align:null},"0 ou une fois ce qui pr\xe9c\xe8de")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"^")),(0,l.kt)("td",{parentName:"tr",align:null},"D\xe9but de ligne")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"$")),(0,l.kt)("td",{parentName:"tr",align:null},"Fin de ligne")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"\\")),(0,l.kt)("td",{parentName:"tr",align:null},"Inhibition du caract\xe8re qui suit")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"[alp]")),(0,l.kt)("td",{parentName:"tr",align:null},"Un caract\xe8re de l\u2019ensemble")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"[a-z]")),(0,l.kt)("td",{parentName:"tr",align:null},"Un caract\xe8re de l\u2019intervalle")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"[^alp]")),(0,l.kt)("td",{parentName:"tr",align:null},"Aucun caract\xe8re de l\u2019ensemble ou de l\u2019intervalle")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,"|")),(0,l.kt)("td",{parentName:"tr",align:null},"Alternative")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"\\{\u2026\\}")),(0,l.kt)("td",{parentName:"tr",align:null},"Un nombre de fois ce qui pr\xe9c\xe8de (accolades)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"\\(\u2026\\)")),(0,l.kt)("td",{parentName:"tr",align:null},"Un groupe (parenth\xe8ses)")))),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"7-constructions-syntaxiques"},"7. Constructions syntaxiques"),(0,l.kt)("h3",{id:"71-variables"},"7.1 Variables"),(0,l.kt)("p",null,"Utilisation des variables :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> letter=a\n> echo $letter\na\n> echo ${letter}1\na1\n")),(0,l.kt)("p",null,"Nombre de caract\xe8res dans une variable :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> echo ${#letter}\n1\n")),(0,l.kt)("p",null,"Assignation d\u2019une valeur par d\xe9faut si la variable n\u2019a pas \xe9t\xe9 affect\xe9e :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# ${variable:-default_value}\n> echo ${another_var:-nothing}\nnothing\n")),(0,l.kt)("p",null,"Substitution de motif :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> filename=/home/user/file11.txt\n\n# Substitution du premier motif trouv\xe9\n# ${variable/pattern/new_pattern}\n> echo ${filename/1/2}\n/home/user/file21.txt\n\n# Substitution de tous les motifs trouv\xe9s\n# ${variable//pattern/new_pattern}\n> echo ${filename//1/2}\n/home/user/file22.txt\n\n# Suppression du pr\xe9fixe\n# ${variable#pattern}\n> echo ${filename#/*/}\nuser/file11.txt\n\n# Suppression du pr\xe9fixe le plus grand\n# ${variable##pattern}\n> echo ${filename##*/}\nfile11.txt\n\n# Suppression du suffixe\n# ${variable%pattern}\n> echo ${filename%/*}\n/home/user\n\n# Suppression du suffixe le plus grand\n# ${variable%%pattern}\n> echo ${filename##/*} # Ne renvoie rien\n")),(0,l.kt)("p",null,"Extraction de sous-cha\xeenes avec la position qui est positive ou n\xe9gative et la longueur qui est facultative."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# ${variable: position:size}\n> filename=/home/user/file11.txt\n> echo ${filename: 6:4}\nuser\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"72-substitution-de-commandes"},"7.2 Substitution de commandes"),(0,l.kt)("p",null,"Substitution de commandes :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> directory=$(pwd)\n> echo $directory \n/home/user\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"73-inhibitions"},"7.3 Inhibitions"),(0,l.kt)("p",null,"Inhibitions des caract\xe8res sp\xe9ciaux :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# Inhibition totale : emp\xeache toutes interpr\xe9tations\n> echo \'$(pwd)\'\n$pwd\n\n# Inhibition partielle : substitutions de variables, de commandes et inhibition avec "\\" fonctionnent\n> echo "$(pwd)" \n/home/user\n\n# Inhibition d\'un seul caract\xe8re avec "\\"\n> echo \\$letter \n$letter\n')),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"8-gestion-des-processus"},"8. Gestion des processus"),(0,l.kt)("p",null,"Il est possible d\u2019afficher le code retour d\u2019une commande avec ",(0,l.kt)("inlineCode",{parentName:"p"},"$?"),". La valeur 0 indique que la commande s\u2019est correctement d\xe9roul\xe9e. Ce qui n\u2019est pas le cas avec une valeur diff\xe9rente de 0."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> pwd\n> echo $?\n0\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"ps -f")," permet d\u2019afficher diff\xe9rentes informations sur les processus en cours :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"UID : Identifiant de l\u2019utilisateur qui a lanc\xe9 le processus"),(0,l.kt)("li",{parentName:"ul"},"PID : Identifiant du processus"),(0,l.kt)("li",{parentName:"ul"},"PPID : Identifiant du processus parent"),(0,l.kt)("li",{parentName:"ul"},"STIME : Heure de d\xe9marrage du processus"),(0,l.kt)("li",{parentName:"ul"},"TIME : Temps cumul\xe9 du processus"),(0,l.kt)("li",{parentName:"ul"},"CMD : Commande et arguments")),(0,l.kt)("p",null,"Exemple :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"UID        PID  PPID  C STIME TTY          TIME CMD                                       \naleowyne   197     1  0 23:11 tty1     00:00:00 bash                               \naleowyne   221   197  0 23:20 tty1     00:00:00 ps -f\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Pour ex\xe9cuter un processus en arri\xe8re-plan, il faut ajouter le caract\xe8re ",(0,l.kt)("inlineCode",{parentName:"p"},"&")," apr\xe8s la commande :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sleep 100 &\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"jobs")," permet d\u2019afficher les processus qui sont en cours d\u2019ex\xe9cution en arri\xe8re-plan. Chaque processus se voit attribuer un num\xe9ro de t\xe2che. La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"fg %n"),' permet de reprendre la t\xe2che "n" en avant-plan. Et la commande ',(0,l.kt)("inlineCode",{parentName:"p"},"bg")," permet d\u2019envoyer la t\xe2che en arri\xe8re-plan apr\xe8s avoir tap\xe9 ",(0,l.kt)("kbd",null,"Ctrl")," + ",(0,l.kt)("kbd",null,"Z"),"."),(0,l.kt)("br",null),(0,l.kt)("p",null,"Il est \xe9galement possible d\u2019arr\xeater ou de suspendre un processus avec la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"kill"),". "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Format : kill -<signal_name_or_id> <PID>\n# Permet d'arr\xeater le processus 221\nkill -15 221 \n")),(0,l.kt)("p",null,"Liste des signaux : ",(0,l.kt)("a",{parentName:"p",href:"https://fr.wikipedia.org/wiki/Signal_(informatique)"},"https://fr.wikipedia.org/wiki/Signal_(informatique)")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"9-entr\xe9es-et-sorties"},"9. Entr\xe9es et sorties"),(0,l.kt)("p",null,"Les entr\xe9es et sorties d\u2019une commande ont les caract\xe9ristiques suivantes :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Nom technique"),(0,l.kt)("th",{parentName:"tr",align:null},"Canal"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Entr\xe9e standard"),(0,l.kt)("td",{parentName:"tr",align:null},"stdin"),(0,l.kt)("td",{parentName:"tr",align:null},"0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Sortie standard"),(0,l.kt)("td",{parentName:"tr",align:null},"stdout"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Sortie d\u2019erreurs"),(0,l.kt)("td",{parentName:"tr",align:null},"stderr"),(0,l.kt)("td",{parentName:"tr",align:null},"2")))),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"91-sortie-standard"},"9.1 Sortie standard"),(0,l.kt)("p",null,"Pour rediriger vers la sortie, les caract\xe8res suivants peuvent \xeatre utilis\xe9s :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},">")," : place le r\xe9sultat de la commande dans un fichier, par exemple (en \xe9crasant ce qui existe d\xe9j\xe0)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},">>")," : ajoute le r\xe9sultat de la commande \xe0 la fin d\u2019un fichier existant, par exemple")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'ls > file1.txt\nls >> file2.txt\n\n# Vers un dispositif dit "trou noir"\nls > /dev/null\n')),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"92-sortie-des-erreurs"},"9.2 Sortie des erreurs"),(0,l.kt)("p",null,"Pour rediriger vers la sortie des erreurs, les caract\xe8res suivants peuvent \xeatre utilis\xe9s :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"2>")," : place les erreurs dans un fichier, par exemple (en \xe9crasant ce qui existe d\xe9j\xe0)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"2>>")," : ajoute les erreurs \xe0 la fin d\u2019un fichier existant, par exemple")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'ls 2> file1.txt\nls 2>> file2.txt\n\n# Vers un dispositif dit "trou noir"\nls no_exist 2> /dev/null \n')),(0,l.kt)("p",null,"Pour rediriger les sorties standard et des erreurs dans un fichier, en m\xeame temps :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"ls no_exist exist &> file1.txt\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"93-entr\xe9e-standard"},"9.3 Entr\xe9e standard"),(0,l.kt)("p",null,"Pour rediriger vers l\u2019entr\xe9e standard, le caract\xe8re ",(0,l.kt)("inlineCode",{parentName:"p"},"<")," peut \xeatre utilis\xe9."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Affiche le nombre de lignes dans le fichier\nwc -l < file1.txt\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"94-redirection-entre-commandes"},"9.4 Redirection entre commandes"),(0,l.kt)("p",null,"Plusieurs commandes sans aucun lien peuvent \xeatre saisies sur une seule ligne en les s\xe9parant avec le caract\xe8re ",(0,l.kt)("inlineCode",{parentName:"p"},";"),"."),(0,l.kt)("p",null,"Plusieurs commandes, ayant besoin d\u2019une redirection entre elles, peuvent \xeatre saisies sur une seule ligne en les reliant avec le caract\xe8re ",(0,l.kt)("inlineCode",{parentName:"p"},"|"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Affiche le nombre de fichiers dans le r\xe9pertoire courant\nls | wc -l\n")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"10-filtres"},"10. Filtres"),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"split")," permet de d\xe9couper un fichier en plusieurs autres fichiers, en fonction d\u2019un nombre d\u2019octets ou de lignes."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# Le fichier "file.txt" est d\xe9coup\xe9 en plusieurs parties de 30 octets qui seront ajout\xe9es \n# dans des fichiers commen\xe7ant par "file"\nsplit -b 30 file.txt file\n\n# Avec des blocs de 10 lignes\nsplit -l 10 file.txt file\n')),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"sort")," permet d\u2019afficher la sortie standard ou le contenu d\u2019un fichier en triant les lignes par ordre alphab\xe9tique. Les options suivantes peuvent \xeatre utilis\xe9es :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-n")," : tri par ordre num\xe9rique"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-k <num_column>")," : tri en fonction d\u2019une colonne"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-t <char>")," : permet de d\xe9finir le s\xe9parateur de colonnes. Par d\xe9faut, c\u2019est l\u2019espace."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-r")," : inversion du tri")),(0,l.kt)("p",null,'Un exemple permettant d\'afficher le contenu du fichier "file.txt" en triant les lignes en fonction de la seconde colonne (donn\xe9e num\xe9rique). Les colonnes sont s\xe9par\xe9es par le caract\xe8re ',(0,l.kt)("inlineCode",{parentName:"p"},";"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'cat file.txt | sort -nk 2 -t ";"\n# Ou\nsort -nk 2 -t ";" file.txt\n')),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"cut")," permet d\u2019extraire les colonnes d\u2019un fichier. Les options suivantes peuvent \xeatre utilis\xe9es :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-f <num_column>")," : permet de s\xe9lectionner une colonne. Si plusieurs colonnes doivent \xeatre extraites, les s\xe9parer par une virgule ou un tiret.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Pour extraire les colonnes 1 et 3 : ",(0,l.kt)("inlineCode",{parentName:"li"},"-f 1,3")),(0,l.kt)("li",{parentName:"ul"},"Pour extraire les colonnes de 1 \xe0 3 : ",(0,l.kt)("inlineCode",{parentName:"li"},"-f 1-3")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-d <char>")," : permet de d\xe9finir le s\xe9parateur de colonnes. Par d\xe9faut, c\u2019est la tabulation.")),(0,l.kt)("p",null,'Un exemple permettant d\'afficher les colonnes 1 et 3 du fichier "file.txt". Les colonnes sont s\xe9par\xe9es par un espace.'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'cat file.txt | cut -d " " -f 1,3\n# Ou\ncut -d " " -f 1,3 file.txt\n')),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"paste")," permet de concat\xe9ner les colonnes pr\xe9sentes dans plusieurs fichiers. L\u2019option ",(0,l.kt)("inlineCode",{parentName:"p"},"-d")," permet d\u2019indiquer un caract\xe8re s\xe9parateur. Par d\xe9faut, c\u2019est l\u2019espace."),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"join")," permet de concat\xe9ner les colonnes pr\xe9sentes dans plusieurs fichiers, en fonction d\u2019une jointure."),(0,l.kt)("p",null,'Un exemple permettant de faire une jointure entre la colonne 1 du fichier "file1.txt" et la colonne 2 du fichier "file2.txt" :'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"join -1 1 -2 2 file1.txt file2.txt\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"uniq")," permet de supprimer les lignes doublons qui sont adjacentes."),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"tr")," remplace une liste de caract\xe8re par une autre, par exemple pour transformer les majuscules en minuscule."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'tr "[A-Z]" "[a-z]" < file.txt\n')),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"11-expressions-arithm\xe9tiques"},"11. Expressions arithm\xe9tiques"),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"expr")," permet d\u2019effectuer des calculs."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> a = 5\n> expr $a + 10\n15\n")),(0,l.kt)("p",null,"Il est \xe9galement possible d\u2019utiliser la substitution arithm\xe9tique :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> a = 5\n> $((a+10))\n15\n")),(0,l.kt)("p",null,"Ou avec la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"let")," :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'> a = 5\n> let "b=a+10"\n> echo $b\n15\n\n# Ou en abr\xe9g\xe9\n> ((b=a+10))\n> echo $b\n15\n')),(0,l.kt)("br",null),(0,l.kt)("p",null,"La d\xe9claration d\u2019une variable de type entier s\u2019effectue avec la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"declare"),". Dans ce cas, plus besoin d'utiliser les commandes ",(0,l.kt)("inlineCode",{parentName:"p"},"let")," et ",(0,l.kt)("inlineCode",{parentName:"p"},"expr"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Format : declare -i <name>=<expression>\n> declare -i b=5+10\n> b=(b*2)\n> echo $b\n30\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"bc")," a un mode interactif qui s\u2019utilise comme une calculatrice et a un mode commande qui s\u2019utilise comme un filtre. Les nombres d\xe9cimaux peuvent \xeatre utilis\xe9s avec cette commande."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"12-archives"},"12. Archives"),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"tar")," permet de g\xe9rer des archives."),(0,l.kt)("p",null,"Pour cr\xe9er une archive \xe0 partir de fichiers ou d\u2019un ensemble de fichiers pr\xe9sents dans un r\xe9pertoire :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"tar cvf <name_archive>.tar <file_or_repository>\n\n# Avec compression\ntar czvf <name_archive>.tar <file_or_repository>\n")),(0,l.kt)("p",null,"Pour extraire une archive dans le r\xe9pertoire courant :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"tar xvf <name_archive>.tar\n\n# Avec d\xe9compression\ntar xzvf <name_archive>.tar\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"gzip")," permet de g\xe9rer la compression d\u2019un fichier ou d\u2019une archive."),(0,l.kt)("p",null,"La compression d\u2019un fichier cr\xe9e un autre fichier avec l\u2019extension ",(0,l.kt)("inlineCode",{parentName:"p"},".gz")," :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"gzip <filename>\n")),(0,l.kt)("p",null,"Pour la d\xe9compression d\u2019un fichier :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"gunzip <compressed_file>.gz\n")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"13-scripts-shell"},"13. Scripts shell"),(0,l.kt)("h3",{id:"131-introduction"},"13.1 Introduction"),(0,l.kt)("p",null,'Au d\xe9but d\u2019un fichier contenant un script shell, le "shebang" doit toujours \xeatre pr\xe9sent :'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"#!/bin/bash\n")),(0,l.kt)("p",null,"Le script doit \xeatre ex\xe9cutable (\xe0 faire une seule fois) :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chmod +x <file>.sh\n")),(0,l.kt)("p",null,"Pour ex\xe9cuter un script :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"./<file>.sh\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"132-arguments"},"13.2 Arguments"),(0,l.kt)("p",null,"Un script peut \xeatre appel\xe9 avec des arguments. "),(0,l.kt)("p",null,"Des variables sp\xe9ciales peuvent \xeatre utilis\xe9es dans ce script pour les consulter :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Variables"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"$0")),(0,l.kt)("td",{parentName:"tr",align:null},"Le nom du script")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"$1")," ",(0,l.kt)("inlineCode",{parentName:"td"},"$2")," ",(0,l.kt)("inlineCode",{parentName:"td"},"$3")," \u2026"),(0,l.kt)("td",{parentName:"tr",align:null},"Pour lire le premier, deuxi\xe8me, troisi\xe8me \u2026 argument. Pour les variables avec plus d\u2019un chiffre, il faut utiliser les accolades : ",(0,l.kt)("inlineCode",{parentName:"td"},"${12}"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"$#")),(0,l.kt)("td",{parentName:"tr",align:null},"Nombre d\u2019arguments")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"$*")," et ",(0,l.kt)("inlineCode",{parentName:"td"},"$@")),(0,l.kt)("td",{parentName:"tr",align:null},"Liste des arguments : { arg1, arg2, arg3 \u2026 }")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"${$1:-default}")),(0,l.kt)("td",{parentName:"tr",align:null},"Permet d\u2019indiquer une valeur par d\xe9faut \xe0 un argument non renseign\xe9")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'${$1:?"message"}')),(0,l.kt)("td",{parentName:"tr",align:null},"Permet d\u2019afficher un message si l\u2019argument n\u2019est pas renseign\xe9")))),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"133-test-dune-expression"},"13.3 Test d\u2019une expression"),(0,l.kt)("p",null,"Le test d\u2019une expression s\u2019\xe9crit de plusieurs fa\xe7ons diff\xe9rentes :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"test <expression>\n# ou\n[ <expression> ]\n# ou (test \xe9tendu)\n[[ <expression> ]]\n")),(0,l.kt)("p",null,"Les codes retour du test sont :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"0 dans le cas o\xf9 c\u2019est vrai"),(0,l.kt)("li",{parentName:"ul"},"1 dans le cas o\xf9 c\u2019est faux")),(0,l.kt)("br",null),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u2757 Dans le cas o\xf9 un argument n\u2019existe pas, utiliser des guillemets autour de cet argument : ",(0,l.kt)("inlineCode",{parentName:"p"},'"$1"'),".")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Les op\xe9rateurs de comparaison arithm\xe9tiques sur les entiers sont :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Op\xe9rateur"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-eq")),(0,l.kt)("td",{parentName:"tr",align:null},"Egal \xe0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-ne")),(0,l.kt)("td",{parentName:"tr",align:null},"Diff\xe9rent de")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-gt")),(0,l.kt)("td",{parentName:"tr",align:null},"Plus grand que")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-ge")),(0,l.kt)("td",{parentName:"tr",align:null},"Plus grand ou \xe9gal \xe0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-lt")),(0,l.kt)("td",{parentName:"tr",align:null},"Plus petit que")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-le")),(0,l.kt)("td",{parentName:"tr",align:null},"Plus petit ou \xe9gal \xe0")))),(0,l.kt)("p",null,"Exemple :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> [ 10 -gt 1 ]\n# ou : test 10 -gt 1\n> echo $?\n0\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Les op\xe9rateurs de comparaison sur les cha\xeenes de caract\xe8res sont :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Op\xe9rateur"),(0,l.kt)("th",{parentName:"tr",align:null},"Op\xe9rateur (test \xe9tendu)"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"=")," ou ",(0,l.kt)("inlineCode",{parentName:"td"},"==")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Egal \xe0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"!=")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Diff\xe9rent de")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"\\<")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<")),(0,l.kt)("td",{parentName:"tr",align:null},"Inf\xe9rieur \xe0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"\\>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},">")),(0,l.kt)("td",{parentName:"tr",align:null},"Sup\xe9rieur \xe0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-z")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Tester si une cha\xeene est vide")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-n")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Tester si une cha\xeene n\u2019est pas vide")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"=~")),(0,l.kt)("td",{parentName:"tr",align:null},"Correspond \xe0 une expression r\xe9guli\xe8re")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"==")),(0,l.kt)("td",{parentName:"tr",align:null},"Correspond \xe0 un motif")))),(0,l.kt)("p",null,"Exemple :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# Si variable vide\n> text="test"\n> [ -z $text ]\n> echo $?\n1\n')),(0,l.kt)("br",null),(0,l.kt)("p",null,"Les op\xe9rateurs de comparaison sur les fichiers/r\xe9pertoires sont :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Op\xe9rateur"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-e")),(0,l.kt)("td",{parentName:"tr",align:null},"Tester s\u2019il existe")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-s")),(0,l.kt)("td",{parentName:"tr",align:null},"Tester s\u2019il est vide")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-f")),(0,l.kt)("td",{parentName:"tr",align:null},"Tester si c\u2019est un fichier ordinaire")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-d")),(0,l.kt)("td",{parentName:"tr",align:null},"Tester si c\u2019est un r\xe9pertoire")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-r")),(0,l.kt)("td",{parentName:"tr",align:null},"Tester s\u2019il est accessible en lecture")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-w")),(0,l.kt)("td",{parentName:"tr",align:null},"Tester s\u2019il est accessible en \xe9criture")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-x")),(0,l.kt)("td",{parentName:"tr",align:null},"Tester s\u2019il est ex\xe9cutable")))),(0,l.kt)("br",null),(0,l.kt)("p",null,"Les op\xe9rateurs logiques sont :"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Op\xe9rateur"),(0,l.kt)("th",{parentName:"tr",align:null},"Op\xe9rateur (test \xe9tendu)"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"!")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"NON (l\u2019inverse)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-a")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"&&")),(0,l.kt)("td",{parentName:"tr",align:null},"ET")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-o")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("code",null,"|","|")),(0,l.kt)("td",{parentName:"tr",align:null},"OU")))),(0,l.kt)("p",null,"Exemple :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# Si variable vide ou variable \xe9gale \xe0 "test"\n> text="test"\n> [ -z $text -o $text=="test" ]\n> echo $?\n0\n')),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"134-structures-conditionnelles"},"13.4 Structures conditionnelles"),(0,l.kt)("p",null,"Les conditions sont reli\xe9es par l\u2019un des op\xe9rateurs suivants :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"&&")," : ET"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"||")," : OU")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La structure conditionnelle avec ",(0,l.kt)("inlineCode",{parentName:"p"},"if")," est sous la forme suivante :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"if <test>\nthen\n    ...\nelif <other_test>\nthen\n    ...\nelse\n    ...\nfi\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La structure de branchement conditionnel avec ",(0,l.kt)("inlineCode",{parentName:"p"},"case")," est sous la forme suivante :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"case <expression> in\n<pattern1>)\n    ...;;\n<pattern2>)\n    ...;;\n<pattern3> | <pattern4>)\n    ...;;\nesac\n")),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"135-structures-it\xe9ratives"},"13.5 Structures it\xe9ratives"),(0,l.kt)("p",null,"La structure it\xe9rative avec ",(0,l.kt)("inlineCode",{parentName:"p"},"while")," est sous la forme suivante :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"while <test>\ndo\n    ...\ndone\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La structure it\xe9rative avec ",(0,l.kt)("inlineCode",{parentName:"p"},"for")," est sous la forme suivante :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"for <variable> in <list>\ndo\n    ...\ndone\n")),(0,l.kt)("p",null,"Une liste de valeurs entre 2 chiffres est cr\xe9\xe9e avec la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"seq")," :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"seq <start_number> <end_number>\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La boucle ",(0,l.kt)("inlineCode",{parentName:"p"},"for")," est \xe9galement pr\xe9sente sous la forme suivante :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"for ((i=1; i<=10; i++))\ndo\n    ...\ndone\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Pour lire les lignes une par une d\u2019un fichier donn\xe9 en argument du script :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"while read <variable>\ndo\n    ...\ndone <$1\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"continue")," permet de renvoyer au d\xe9but de la boucle sans ex\xe9cuter le reste des instructions du corps de la boucle."),(0,l.kt)("p",null,"La commande ",(0,l.kt)("inlineCode",{parentName:"p"},"break")," permet de sortir directement de la boucle."),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"136-fonctions"},"13.6 Fonctions"),(0,l.kt)("p",null,"La d\xe9claration d\u2019une fonction se fait sous la forme suivante :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"function <name> {\n    ...\n}\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ud83d\udca1 Le mot-cl\xe9 ",(0,l.kt)("inlineCode",{parentName:"p"},"function")," est facultatif.")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Les arguments d\u2019une fonction sont utilis\xe9s comme ceux d\u2019un script : ",(0,l.kt)("inlineCode",{parentName:"p"},"$1"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"$2")," \u2026"),(0,l.kt)("p",null,"La fonction est appel\xe9e juste en tapant le nom de la fonction suivi des arguments si n\xe9cessaire, comme pour une commande ou un script."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Format : <function_name> <arg1> <arg2> ... <argn>\n# Exemple avec la fonction get_max et 2 arguments :\nget_max 3 10\n")),(0,l.kt)("br",null),(0,l.kt)("p",null,"Le mot-cl\xe9 ",(0,l.kt)("inlineCode",{parentName:"p"},"return")," dans une fonction permet de renvoyer un entier entre 0 et 255."),(0,l.kt)("p",null,"Pour retourner autre chose, le r\xe9sultat doit \xeatre envoy\xe9 sur la sortie standard avec la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"echo"),", puis la valeur est r\xe9cup\xe9r\xe9e en utilisant la syntaxe de substitution de commande."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"get_max() {\n    if [[ $1 -gt $2 ]]\n    then\n        echo $1;\n    else\n        echo $2;\n    fi\n}\n\necho $(get_max 2 3); # Affiche 3\n")))}c.isMDXComponent=!0}}]);